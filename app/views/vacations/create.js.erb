$(document).ready(function () {
    <% if @vacation.errors.any? %>
      var error_html = '<%= raw(render_flash_messages) %>';
      var error_list = '<%= raw(show_errors_as_list(@vacation.errors)) %>';
      var full_error_html = $(error_html).append(error_list);
      $("#flash").html(full_error_html);
    <% else %>
      // Render the flash message
      $("#flash").html('<%= raw(render_flash_messages) %>');
      $("#flash").show();

      // Reset the form
      $('#new_vacation').resetForm();

      // Reset the date fields to today
      $("#vacation_date_from, #vacation_date_to").val($.formatDate(new Date(), "dd/MM/yyyy"));

      var holiday_year_id = $("#holiday_year_id").val();
      if (holiday_year_id == <%= @vacation.holiday_year_id %>) {
        $('table#holidays tbody').append('<%= raw(create_holiday_row(@vacation))%>');
        $("#show_days").html("Days Remaining: <%= @days_remaining %>");
      }
    <% end %>
});
